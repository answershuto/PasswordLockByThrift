C51 COMPILER V9.00   TLC549                                                                05/25/2015 19:06:17 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE TLC549
OBJECT MODULE PLACED IN TLC549.OBJ
COMPILER INVOKED BY: d:\Keil\C51\BIN\C51.EXE TLC549.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include "gglj.h"
   2          
   3          void delayus(uint n)
   4          {
   5   1              int i=12,j;
   6   1              for(j=0;j<n;j++)
   7   1                      for(i=12;i>0;i--);
   8   1      
   9   1      }
  10          //====================================
  11          //读8位AD值
  12          //====================================
  13          uchar get8adz()                         
  14          {
  15   1              uchar i,temp;
  16   1              CS=1;
  17   1              CLK=0;
  18   1              CS=0;
  19   1              for(i=0;i<8;i++)
  20   1              {
  21   2                      temp=temp<<1;
  22   2                      temp=temp|DQ;
  23   2                      CLK=1;
  24   2                      delayus(10);
  25   2                      CLK=0;
  26   2                      delayus(10);    
  27   2              }
  28   1              CS=1;
  29   1              delayus(20);
  30   1              return (temp);
  31   1      }
  32          //===================================
  33          //采N次AD值
  34          //===================================
  35          //uint getaveadz(uint n)                  
  36          //{
  37          //      uint num;
  38          //      uint i;
  39          //      num=0;
  40          //      for(i=0;i<n;i++)
  41          //      {
  42          //              num=num+get8adz();
  43          //      }
  44          //      return num;
  45          //}
  46          //===================================
  47          //自动量程转换
  48          //===================================
  49          //uint getswitchsum()               
  50          //{
  51          //      uint sum;
  52          //                                 
  53          //      sch0=1;
  54          //      zyswitch(sch0);
  55          //      delayms(10);
C51 COMPILER V9.00   TLC549                                                                05/25/2015 19:06:17 PAGE 2   

  56          //      sum=(uint)getaveadz(10);
  57          //      if(sum<400) 
  58          //              {
  59          //                      sch0=2;
  60          //                      zyswitch(sch0);             
  61          //                      delayms(5);
  62          //                      sum=(uint)getaveadz(10);
  63          //                      if(sum<400)
  64          //                      {
  65          //                              sch0=3;
  66          //                              zyswitch(sch0);             
  67          //                              delayms(5);
  68          //                              sum=(uint)getaveadz(10);
  69          //                      }
  70          //
  71          //              }
  72          //       return sum;
  73          //}


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     81    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       1
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
